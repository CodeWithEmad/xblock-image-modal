function ImageModalView(a,b){"use strict";function c(){return!1}function d(){var a,b,d,e,f,g;u.text("Zoom Out"),v.removeClass("icon-zoom-in"),v.addClass("icon-zoom-out"),r.off(".imagemodal"),r.on("click.imagemodal_zoomin",c),r.addClass("zoomed"),g=r.height(),f=r.width(),a=f-s.width(),b=g-s.height(),d=f+a,e=g+b,i=i||new n(r[0],{containment:!0}),e>0&&d>0?(r.parent().css({left:-a,top:-b,width:d,height:e}),r.css({top:b/2,left:a/2}),i.enable()):i.enable()}function e(){u.text("Zoom In"),v.removeClass("icon-zoom-out"),v.addClass("icon-zoom-in"),r.off(".imagemodal"),r.on("click.imagemodal_zoomout",h),r.removeClass("zoomed"),r.parent().css({left:0,top:0,width:"100%",height:"100%"}),r.css({left:0,top:0}),i&&(i.disable(),i=null)}function f(){var a=r.hasClass("zoomed");return a?e():d(),!1}function g(){return o.css("overflow",""),q.hide(),o.off(".imagemodal"),t.off(".imagemodal"),q.off(".imagemodal"),r.off(".imagemodal"),!1}function h(){return q.show(),o.css("overflow","hidden"),o.on("keyup.imagemodal",function(a){return a.which===m?g():a.which===l?f():void 0}),t.on("click.imagemodal",f),q.on("click.imagemodal",g),r.on("click.imagemodal",f),!1}var i,j=window.jQuery,k=j(b),l=13,m=27,n=window.Draggabilly,o=j("BODY"),p=k.find("A"),q=k.find(".curtain"),r=q.find("IMG"),s=q.find(".mask"),t=q.find("BUTTON.zoom"),u=t.find("SPAN"),v=t.find("I");a=a||{},g(),"PreviewRuntime"===k.attr("data-runtime-class")?p.on("click.imagemodal",c):p.on("click.imagemodal",h)}
//# sourceMappingURL=view.js.min.js.map
